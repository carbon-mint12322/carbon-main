import { NextApiRequest, NextApiResponse } from 'next'
import {Handler} from "~/backendlib/types";

import listHandler from "~/gen/pages/api/{{modelName}}/list"
import createHandler from "~/gen/pages/api/{{modelName}}/create"

const fourOhFive = (req: NextApiRequest, res: NextApiResponse) =>
  res.status(405).send({error: "Invalid request"})

const handler = async (req: NextApiRequest, res: NextApiResponse) =>
  req.method === "POST"
  ? createHandler(req, res)
  :
  (req.method === "GET"
    ? listHandler(req, res)
    :
    fourOhFive(req,res))

export default handler;
