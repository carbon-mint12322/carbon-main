extends: ./nonValidationLifecycle.yaml
jsonschema:
  type: object
  title: 'Integrated Crop Care Pest Management Event'
  properties:
    pestsObserved:
      title: Pests observed
      type: array
      minItems: 1
      items:
        type: string
        title: ''
        enum:
          - shootFly
          - sorghumStemBorer
          - leafFolder
          - earheadBug
          - aphids
          - ragiRootAphid
          - leafHopper
          - cutworm
          - grassHopper
          - earHeadCaterpillar
          - redHairyCaterpillar
          - sorghumMidge
          - whiteGrubs
          - fleaBeetles
          - nematode
          - pinkStemBorer
          - otherPests
        enumNames:
          - Shootfly
          - Sorghum Stem borer
          - Leaf folder
          - Earhead bug
          - Aphids
          - Ragi root aphid
          - Leaf hopper
          - Cutworm
          - Grasshopper
          - Ear Head Caterpillar
          - Red Hairy caterpillar
          - Sorghum midge
          - White grubs
          - Flea beetles
          - Nematode
          - Pink stem borer
          - Other pests
      uniqueItems: true
    cropCareMethods:
      title: Integrated crop care methods
      '$ref': '#/cropCareMethodsData'
    recommondedBy:
      title: Recommended by
      type: string
    durationAndExpenses:
      title: 'Duration and Expenses'
      '$ref': '#/DurationAndExpenses'
    otherRemarks:
      type: string
      title: Other remarks
  allOf:
    - if:
        properties:
          pestsObserved:
            contains:
              type: string
              const: otherPests
      then:
        properties:
          otherPestsObserved:
            title: Other pests observed
            type: string

  cropCareMethodsData:
    properties:
      controlMeasuresFollowed:
        title: Control measures followed
        type: string
        enum:
          - Biological control
          - Organic preparations
          - Chemical control
        default: Biological control
    allOf:
      - if:
          properties:
            controlMeasuresFollowed:
              const: Biological control
        then:
          properties:
            biologicalAgentsApplied:
              type: object
              title: Biological agents applied
              properties:
                npv:
                  title: NPV
                  type: boolean
                  default: false
                metarhizium:
                  title: Metarhizium
                  type: boolean
                  default: false
                beauveria:
                  title: Beauveria
                  type: boolean
                  default: false
                nomuraea:
                  title: Nomuraea
                  type: boolean
                  default: false
                verticillium:
                  title: Verticillium
                  type: boolean
                  default: false
                bacillusThuringiensis:
                  title: Bacillus thuringiensis (B.t.)
                  type: boolean
                  default: false
                trichogramma:
                  title: Trichogramma
                  type: boolean
                  default: false
                ampelomycesQuisqualis:
                  title: Ampelomyces quisqualis
                  type: boolean
                  default: false
                othersBiologicalAgent:
                  title: Other biological agent
                  type: boolean
                  default: false
              allOf:
                - if:
                    properties:
                      npv:
                        const: true
                  then:
                    properties:
                      npvApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      metarhizium:
                        const: true
                  then:
                    properties:
                      metarhiziumApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      beauveria:
                        const: true
                  then:
                    properties:
                      beauveriaApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      nomuraea:
                        const: true
                  then:
                    properties:
                      nomuraeaApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      verticillium:
                        const: true
                  then:
                    properties:
                      verticilliumApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      bacillusThuringiensis:
                        const: true
                  then:
                    properties:
                      bacillusThuringiensisApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      trichogramma:
                        const: true
                  then:
                    properties:
                      trichogrammaApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      ampelomycesQuisqualis:
                        const: true
                  then:
                    properties:
                      ampelomycesQuisqualisApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
                - if:
                    properties:
                      othersBiologicalAgent:
                        const: true
                  then:
                    properties:
                      othersBiologicalAgentApplied:
                        type: string
                        title: Other biological agent applied
                      othersBiologicalAgentApplicationData:
                        title: ''
                        '$ref': '#/biologicalAgentData'
      - if:
          properties:
            controlMeasuresFollowed:
              const: Organic preparations
        then:
          properties:
            organicPreparationsApplied:
              title: Organic preparations applied
              type: object
              properties:
                dasaparni:
                  title: Dasaparni
                  type: boolean
                  default: false
                insecticidalSoap:
                  title: Insecticidal soap
                  type: boolean
                  default: false
                neemOil:
                  title: Neem oil
                  type: boolean
                  default: false
                karanjOil:
                  title: Karanj oil
                  type: boolean
                  default: false
                tobaccoDecoction:
                  title: Tobacco decoction
                  type: boolean
                  default: false
                agniastram:
                  title: Agniastram
                  type: boolean
                  default: false
                bramhastram:
                  title: Bramhastram
                  type: boolean
                  default: false
                woodAshDusting:
                  title: Wood ash dusting
                  type: boolean
                  default: false
                vayilakuDecoction:
                  title: Vayilaku decoction (Vitex negundo)
                  type: boolean
                  default: false
                vineagar:
                  title: Vinegar
                  type: boolean
                  default: false
                others:
                  title: Others
                  type: boolean
                  default: false
              allOf:
                - if:
                    properties:
                      dasaparni:
                        const: true
                  then:
                    properties:
                      dasaparniApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      insecticidalSoap:
                        const: true
                  then:
                    properties:
                      insecticidalSoapApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      neemOil:
                        const: true
                  then:
                    properties:
                      neemOilApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      karanjOil:
                        const: true
                  then:
                    properties:
                      karanjOilApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      tobaccoDecoction:
                        const: true
                  then:
                    properties:
                      tobaccoDecoctionApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      agniastram:
                        const: true
                  then:
                    properties:
                      agniastramApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      bramhastram:
                        const: true
                  then:
                    properties:
                      bramhastramApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      woodAshDusting:
                        const: true
                  then:
                    properties:
                      woodAshDustingApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      vayilakuDecoction:
                        const: true
                  then:
                    properties:
                      vayilakuDecoctionApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      vineagar:
                        const: true
                  then:
                    properties:
                      vineagarApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
                - if:
                    properties:
                      others:
                        const: true
                  then:
                    properties:
                      othersApplicationMethod:
                        type: string
                        title: Other organic preparation applied
                      othersApplicationData:
                        title: ''
                        '$ref': '#/organicAgentData'
      - if:
          properties:
            controlMeasuresFollowed:
              const: Chemical control
        then:
          properties:
            chemicalAgentsApplied:
              type: object
              title: Chemical applied (Insecticides)
              properties:
                carbofuran:
                  title: Carbofuran
                  type: boolean
                  default: false
                phorate:
                  title: Phorate
                  type: boolean
                  default: false
                carbaryl:
                  title: Carbaryl
                  type: boolean
                  default: false
                methylDemeton:
                  title: Methyl demeton
                  type: boolean
                  default: false
                dimethoate:
                  title: Dimethoate
                  type: boolean
                  default: false
                chlorpyrifos:
                  title: Chlorpyrifos
                  type: boolean
                  default: false
                quinalphos:
                  title: Quinalphos
                  type: boolean
                  default: false
                acephate:
                  title: Acephate
                  type: boolean
                  default: false
                cartapHydrochloride:
                  title: Cartap Hydrochloride
                  type: boolean
                  default: false
                methylParathion:
                  title: Methyl parathion
                  type: boolean
                  default: false
                imidacloprid:
                  title: Imidacloprid
                  type: boolean
                  default: false
                others:
                  title: Others
                  type: boolean
                  default: false
              allOf:
                - if:
                    properties:
                      carbofuran:
                        const: true
                  then:
                    properties:
                      carbofuranApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      phorate:
                        const: true
                  then:
                    properties:
                      phorateApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      carbaryl:
                        const: true
                  then:
                    properties:
                      carbarylApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      methylDemeton:
                        const: true
                  then:
                    properties:
                      methylDemetonApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      dimethoate:
                        const: true
                  then:
                    properties:
                      dimethoateApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      chlorpyrifos:
                        const: true
                  then:
                    properties:
                      chlorpyrifosApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      quinalphos:
                        const: true
                  then:
                    properties:
                      quinalphosApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'

                - if:
                    properties:
                      acephate:
                        const: true
                  then:
                    properties:
                      acephateApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'

                - if:
                    properties:
                      cartapHydrochloride:
                        const: true
                  then:
                    properties:
                      cartapHydrochlorideApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      methylParathion:
                        const: true
                  then:
                    properties:
                      methylParathionApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      imidacloprid:
                        const: true
                  then:
                    properties:
                      imidaclopridApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'
                - if:
                    properties:
                      others:
                        const: true
                  then:
                    properties:
                      othersChemicalsApplied:
                        title: Other chemicals applied
                        type: string
                      othersApplicationData:
                        title: ''
                        '$ref': '#/chemicalAgentData'

  biologicalAgentData:
    properties:
      sourceOfBiologicalAgent:
        title: Source of biological agent
        type: string
        enum:
          - Own
          - Purchase
        default: Purchase
      dosageApplied:
        title: Dosage appiled (g or ml/Acre)
        type: number
        minimum: 0
      applicationMethod:
        title: Application method followed
        type: string
        enum:
          - Dusting
          - Foliar spray
          - Poison baiting
          - Soil drenching
          - Broadcasting
          - Fumigation
          - Leaf whorl application
          - Irrigation water (Drip)
          - Fogging
          - Others
        default: Dusting
    allOf:
      - if:
          properties:
            sourceOfBiologicalAgent:
              const: Purchase
        then:
          properties:
            inputPurchaseReceipt:
              title: Input Purchased receipt or Product label
              type: array

              description: Input Purchased receipt or Product label
              items:
                type: string
      - if:
          properties:
            applicationMethod:
              const: Others
        then:
          properties:
            otherApplicationMethod:
              title: Other application method
              type: string
  organicAgentData:
    properties:
      sourceOfInput:
        title: Source of input
        type: string
        enum:
          - Own
          - Purchase
        default: Purchase
      dosageApplied:
        title: Dosage appiled (g or ml/Acre)
        type: number
        minimum: 0
      applicationMethod:
        title: Application method followed
        type: string
        enum:
          - Dusting
          - Foliar spray
          - Poison baiting
          - Soil drenching
          - Broadcasting
          - Fumigation
          - Leaf whorl application
          - Irrigation water (Drip)
          - Fogging
          - Others
        default: Dusting
      productFormulation:
        type: string

        title: Product formulation test report
        description: Product formulation test report
    allOf:
      - if:
          properties:
            sourceOfInput:
              const: Purchase
        then:
          properties:
            inputPurchaseReceipt:
              title: Input Purchased receipt or Product label
              type: array

              description: Input Purchased receipt or Product label
              items:
                type: string
      - if:
          properties:
            applicationMethod:
              const: Others
        then:
          properties:
            otherApplicationMethod:
              title: Other application method
              type: string
  chemicalAgentData:
    properties:
      inputPurchaseReceipt:
        title: Chemical purchase receipt or product label
        type: string

        description: Chemical purchase receipt or product label
      dosageApplied:
        title: Dosage appiled (g or ml/Acre)
        type: number
        minimum: 0
      applicationMethod:
        title: Application method followed
        type: string
        enum:
          - Dusting
          - Foliar spray
          - Poison baiting
          - Soil drenching
          - Broadcasting
          - Fumigation
          - Leaf whorl application
          - Irrigation water (Drip)
          - Fogging
          - Others
        default: Dusting
    allOf:
      - if:
          properties:
            applicationMethod:
              const: Others
        then:
          properties:
            otherApplicationMethod:
              title: Other application method
              type: string
  DurationAndExpenses: file:../common/durationAndExpenses.yaml
uiHints: file:~/specs/jsonschemas/src/forms/ui/pestManagementEvent.yaml
