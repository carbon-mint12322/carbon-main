type: object
properties:
  name:
    title: Activity name
    type: string
  activityType:
    title: Activity type
    type: string
    enum:
      - Land preparation
      - Space preparation
      - Seedlings preparation
      - Planting material procurement
      - Planting material treatment
      - Plantation
      - Intercultural operations
      - Irrigation
      - Integrated crop nutrition
      - Integrated crop care
      - Harvest
      - Post harvest handling
      - Storage
      - Post processing
    default: Land preparation
  period:
    title: Period
    type: string
  technicalAdvice:
    title: Technical advice
    type: string
  ccp:
    title: Critical control point
    type: boolean
  repeated:
    title: Repeated control point
    type: boolean
    default: false
  serviceCatalogIds:
    title: Service catalog IDs
    type: array
    items:
      type: string
  impactParameters:
    title: Impact parameters
    type: array
    items:
      type: string
  inputs:
    title: Inputs
    type: array
    items:
      type: object
      title: ''
      properties:
        productCatalogId:
          title: Product catalog ID
          type: string
        quantityUnits:
          type: string
          title: Quantity units
        quantityPerAcre:
          title: Quantity per acre
          type: number
allOf:
  - if:
      properties:
        repeated:
          const: true
    then:
      properties:
        frequency:
          title: Frequency (Days)
          type: number
          minimum: 0
        ends:
          title: Ends (Days)
          type: number
          minimum: 0
      required:
        - frequency
        - ends
  - if:
      properties:
        activityType:
          const: 'Land preparation'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'
  - if:
      properties:
        activityType:
          const: 'Space preparation'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Planting material procurement'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Planting material treatment'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Intercultural operations'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Irrigation'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Integrated crop nutrition'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Integrated crop care'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Harvest'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Post harvest handling'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Storage'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Post processing'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

  - if:
      properties:
        activityType:
          const: 'Seedlings preparation'
    then:
      properties:
        days:
          title: Days range
          $ref: '#/definitions/DaysRange'

required:
  - name
  - activityType
